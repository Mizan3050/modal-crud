<div class="container-fluid mt-4">
    <h2>Add Employee</h2>
    <hr>
    <form class="form-group mt-4 mb-4" [formGroup]="addEmployeeForm" (ngSubmit)="addEmployee()">
        <div class="row justify-content-center">
        <div class="col-md-5">

            <div>
                <label for="name" class="form-label">Name:</label>
                <input [class.is-invalid]="name.invalid && name.touched" type="text" class="form-control" id="name" formControlName="name">
                <div *ngIf = "name.invalid && name.touched">
                    <small *ngIf="name.errors?.required" class="text-danger">name required</small>
                    <small *ngIf="name.errors?.minlength" class="text-danger">Enter atleat 3 characters</small>
                </div>
            </div>

            <div>
                <label for="username" class="form-label">Username:</label>
                <input [class.is-invalid]="username.invalid && username.touched" type="text" class="form-control" id="username" formControlName="username">
                <div *ngIf = "username.invalid && username.touched">
                    <small *ngIf="username.errors?.required" class="text-danger">username required</small>
                    <small *ngIf="username.errors?.minlength" class="text-danger mr-2">Enter atleat 3 characters</small>
                    <small *ngIf="username.errors?.pattern" class="text-danger">Enter valid characters</small>
                </div>
            </div>  

            <div>
                <label for="email" class="form-label">Email:</label>
                <input type="text" class="form-control" id="email" formControlName="email">
            </div>
            <div formGroupName = "address">
            <div>
                <label for="street" class="form-label">Street:</label>
                <input type="text" class="form-control" id="street" formControlName="street">
            </div>
            <div>
                <label for="city" class="form-label">City</label>
                <input type="text" class="form-control" id="city" formControlName="city">
            </div>
            <div>
                <label for="zipcode" class="form-label">Zipcode</label>
                <input type="text" class="form-control" id="zipcode" formControlName="zipcode">
            </div>
        </div>
            <div>
                <label for="phone" class="form-label">Phone</label>
                <input type="text" class="form-control" id="phone" formControlName="phone">
            </div>

            <div>
                <label for="website" class="form-label">Website</label>
                <input type="text" class="form-control" id="website" formControlName="website">
            </div>
            <div formGroupName="company">
            <div>
                <label for="company_name" class="form-label">Company Name</label>
                <input type="text" class="form-control" id="company_name" formControlName="name">
            </div>


            <div>
                <label for="domain" class="form-label">domain</label>
                <input type="text" class="form-control" id="domain" formControlName="bs">
            </div>
        </div>
              <ng-container *ngIf="!toUpdate; else elseTemplate">
                <button class="btn btn-primary mt-2" type="submit" [disabled]="addEmployeeForm.invalid">Add Student <fa-icon [icon]="faSpinner" [pulse]="true" *ngIf="loading"></fa-icon></button>
              </ng-container>
              <ng-template #elseTemplate>
                <button class="btn btn-primary mt-2" type="button" [disabled]="addEmployeeForm.invalid" (click)="updateStudent()">Update Student</button>
              </ng-template>
              
            
        </div>
        
    </div>
        
    </form>
    {{addEmployeeForm.value | json}}
</div>